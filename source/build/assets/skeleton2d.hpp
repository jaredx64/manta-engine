#pragma once

#include <core/types.hpp>
#include <core/list.hpp>
#include <core/buffer.hpp>
#include <core/string.hpp>

#include <build/cache.hpp>

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct Skeleton2D
{
	CacheID cacheID;
	String name;
	String path;
	Buffer data;
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct Skeleton2Ds
{
	void make_new( const Skeleton2D &skeleton );

	usize gather( const char *path, bool recurse = true );
	void process( const char *path );
	void build();

	Skeleton2D &operator[]( u32 skeletonID ) { return skeletons[skeletonID]; }

	List<Skeleton2D> skeletons;
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////